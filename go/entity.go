package kepler

import (
//"bufio"
//"errors"
//"flag"
//"github.com/gin-gonic/gin"
//"github.com/op/go-logging"
//"io"
//"io/ioutil"
//stdlog "log"
//"net/http"
//"net/url"
//"os"
//"os/exec"
//"path/filepath"
//"golang.org/x/net/html"
//"bytes"
//"github.com/PuerkitoBio/goquery"
//"golang.org/x/net/html"
//"bufio"
//"encoding/csv"
//"net"
//"regexp"
//"strconv"
//"strings"
//"time"
)

func CreateContextQueryEntity(Entity string) AspContext {
	context := AspContext{}

	context.ViewState = "wjJcySXdnT3Nz2Xw3p5X1c45CxCCvCbuZ5KhW73YGVz1sj15QU3n0cKE5me13IueWlnSgflrhoR7Sk%2FmCzS0ZmGFx%2Br5%2BWb759GzwO7xIXIQwfFawPM5eb5hTtKZZYdhFpGl8xM1oqmlVTO3KgMoxX602EC4govEQA1FWqA8oYvpVgrZNG0vk4Say8CWbQWOQbvUs%2BC7B7UagqUAohKZdyxJz7zURi6Lrp5qHqeT5VskvFNg7rO2k0C5lERfqCdVDMNNQopgf86%2FE9JaxubdZiCsDfhr9yIp2CSfrQZ%2Bps4%2B9MCMY2j%2BTBswwXaYAr8WCNbDD61HD8aVkvCqXny%2F5LshWI7T1Y%2FYNQU0Yo4BKuDCZSGBqoBFAiH1YmfSnQxUCYL2fcvIHJ7imPR0r%2BYDulRu05pW46LrF5OTFZmYXS%2FWIS1ws5LYaImkdZPTruYZ6xzTkbnaaTPevkMKPCiZkPAUD53YCQrGbX8%2FWrTi7CgVxchQ9T5Ili27EByooVsKul6EYKt2ccPGCO65s8ywlm92E2gbiGudpffpNeLfJfSU0nfGTsLa4Ho70djEyuc2zE%2B6Uw2qsw1yaEAaT1VLWNSibf8HqFfZ7kgO6bjM7zAsxbPoBxAo14jSeLu0GNGkIxxeasVfyXc5%2FFCp95OrLUuoewhegvVJZP20r3tGzAdKIupgKxSw5D%2BleUuaglnuo0JLj6xBjlwFgfrIETpogdwN6p%2B64iKbZRbKyVnpGs5LL73cNHo7TvbeTswyGNoC7hsv74aoPcsNgrPUK9y%2Bb%2F9wR9tEOhCBoE9JQ2R7MU49eziBEsLNlbKYVUJ69A%2FjhACQoXnWeR4mIgdowid0Ie5FX8XqOP7opo6HAk2vvg6IooOMKiJMWQqqDekgPL5f2PV7je2%2B1cZYxi3HpXkyMYx19YOlg%2FRSPQBTJm8IAKbW%2F65qExT3FFE9%2FBfpxRVSUo7ftf5EtY7jXoRjULvJaVbKMelQDXLQkFKHj3nNts6MhsQVKrkIhwqrpCkPrImTkyF60nsN64jy%2F0R2f7%2F6%2FmxChlPLJ09TJhBe9WXkp72IagsbN42TqddmVq2zjytYRU%2BFE4aZq8oWQjEEqyOGEN6JVeyHGcG5H%2BpasbFRRzumfof3XtyQnMaq2bMErsUUAgMS9a8IyEMuW7f5Tyfk6W0xtTSQxslXmNWj27c11yUytVQiL%2F9aFFPVNOdeOXhIsN8DIw3p6Q66C4DZJNBP7VduhfZvL%2BFdGypKyiigHg1x9mFrKdgd%2BPqNyvvkHzcH6aWQI5QyFOYi%2ByVI6MbZq0cNdE%2FhJDFWHhHXbbhahgRLRYMfOU9iOv4N2ftV8v2bUcZJ3616UnEdrkoV%2B4cu1j8ftoourKCSFNEIEB%2FdxiOoyIii6avuW3TkeCPkGUZb3qf5VM%2Bpl92f9gQyWIVpeK95WyUDYoT%2FAebsZcjjyPIldr4PauzlfrV0Zcwnz1LjZIdEMqb2ADkcQDDZVZL5OVHQBQuO7cNs3TxlYYF1RRyqILM4vYF6iHs%2FeqsqNniygcDAQ5p2QZezGbiyPcow1h%2FPDTu%2FAXGo4em7Y5W3ilxgQ9Yjb1fTXxld6a2N30X1lDKvrlsq5E4hoEJgJyV964FPB%2FrmoSPNBy7WAh80lIzncfKKz9mlffaszbYc3T09FtXzwHVReAtaaKZvgN0tQz%2FuHAbpKhAw4%2FpEUJ3gKVCdKlK%2BFQziiv2recJ3jHtAm7PgnL85%2BC2hTz5zo%2Fy2Kj03aCtMyH6tdwQVAtaKX1cMzUqxwBFyA2DT1BQ0SOuD4phRczTF%2FOIw7xatYoQblMiBVOSMGUzvijfy9CSIUYY4MMzSM3PrPbGFX6FJ%2BxH7CNNGaKBt299a80HU45gKVllKjhMvS%2BNE1amGoPfTwGCXC26urxO9CTPmXmmsNta77%2BV8zX7UbFq4s0z1bK8uSoVSd2kFUh0eUAVEZ3r8J6tLqBe3NbUHl6WMBMjGFJemgZkrcBWGQ5Ta8nqvT9r9VRLsb8%2Bty65qSTulH%2F5rzPnD5%2FLey26ZEukCaaeWlJE0UaYxuLxdHs5yZtaaD80VfkPv6wAivYDVuOYm7yG7ZMXmf61uA%2FXOibe9BFYM7EryYCu19PGukeMBkR%2FE0rWvEP%2Bk0Tq4u2vwiEiaPSAlrRJ4dIBUknwBm4OjgiBri2YMXVio%2FoObQu9TV6sZqhvHn%2BORbh8Q%2Fmss2ugQK5DlI38UoLyurlltaafjvnwJQPlkD3cRBbIaTiJiGiIC3I2yofr2Se9C83OkvfeslEPE6%2F3wTkVqKKMGMDkBBLrbB%2Bu0kxw1flO3N8zPIex0XKxH7G11np8FRsNAQuwLjjU7mrsY3lO1WEOcQIeAXc6nYaGaiB2SvlvzhrcnjFVbbKOHHAuTPzpiPHDUQIxI%2FxRPx%2FOnJK5QtgUGfbHy7GpProZeSvV%2FfAWJSFH0%2BEkbf3%2FsDQts9LH7YJlDV6fBK84II6uifJX4vyMUnQuoG%2FjLGTZStV16wtQAyO9XTngZCBjHl2PfWZjHZd%2BsAV2VtuDKTgaisIBwK7CMtxU6zV5YHWdQLVdsj6Tt4dOpQQ19W7LKEvXyndNaZ0KMn367iSil8HrpypMD0mhHZmxHP0828cdpM0Y6Q%2Fjzknbi%2FW02vtK53h1Kei0KV9nFDXb6IhkdELvBaAQHcxSct6mfGDzuZz9k5llS7Gdadvjt9vlbnDFfI5LICYmnFNiDlkM0j%2BQlyI73%2Fm%2BQ8J1KgGnOOe2MD%2FcRrWuGws94H0ldChuaurg4XkyUKkjPukQybFxgJtWWYlsEbUexZy%2BM2PMAoOKUxsuc0hWfg2VnfzCUJntRdk0zy%2B7gYp2T08F4BhyEJexZVwT22EhfDi4dLCx8s4M1vWI%2Bqzknw6YDpsMbAZKUCdvFk2VkEzuT2s7GlYnCWKfiI2AODXGKebZjKjAjwigdz%2Fh0F%2Bk5x6I7Pql2q7E70ZWBiGi5WztZwhUEPmciuP2aEtEVUhwjDwYElMdhD9z5LivW%2BxBNu%2Fwwdi%2FuaoKiC%2BK%2FVAv4rNTtMZHHOcxmvysUo1d2tcsRycCP6OGOx%2FnKDtnNb6%2FSfTluzfet6T6xEj85Z1WuxLaiYa%2BSgRttGHfpPHGMuolxQBmqo0itcsHifP%2BffonjgKITseUSBJKnNXmxIL4%2Bhkei8lyPqSiKotj7AMCH0pQkCI3%2FtOAGRSxG2fYB%2F%2BCscGEwQkLwsACkyRgeG2jv0xRVcb7GyGh0EiCgaRT6w2lBAsWV90NPdjKlGe4bQRR6qSm%2BkFYAB437XyCV2O24%2Fx6u1TRteQwt9lYQgBZ9F%2BqZGiCzt19CV%2Bk1VOjhxoTgrbQ8Aaj9UAW0PX0qx8kvgPSebVYuVryl0n6qh3OwxFMYXFklhIN4pa9MNTrVRXLpJs1hC7qMKhd0qx2OTuBHWuypFDLRgJRkelckkM49425%2BoDPqWlUiZ34yxbLr4iDyjkLII2kmXHrNVSFeYGwRXkLbHsRGCVuUhW3B6CSWEBRQRBF%2Flu5vi4D9dx%2BxziRlCDLgG4HMPHBEuLqbqcJG2fB8EGrJAskkN%2BI7O4MWcjAy%2BpGbgJHsBXDs6OkEiXwZjzHLRHjdbp3x%2FiBTX8xAMPZK69HkByJ7QRDTbZmcjsJorbWi0ooUB77f8VUrF5K5GnI4bfeTryIxHR9KaiXSMlveZbtK1GwW2OlSDmNZQ7HBP7EM7e3FdiWcm%2F68jV4D5%2F%2Fq%2FgHsiJIuOiJ7Sg22rmsmbVEkf2bInh49G0fklCQ1jZ1jse2F4UYhvq2NdGIr7iIhmKWDKUivloI7YgniSGYp7yoszYhpyMw3mgQTztSi9FcVdNd1VsacVNglD%2BKB0RfbVlQ0ymOiBvPj%2BMS%2Fzk8F9Tyyb%2BQwdLe9fbCRC2chg1rLBoL7jeX%2BztSa0q%2FgYs1nRi%2BTeocwdhC9d%2BfwUUhXhJaSyFcA1GS5ASxDP4ECBizKvLR5bHl%2FW8swlcUdi2%2FZSuVsZAVgiBzLtNq5RxLH72zaIKds8FzP6S30lT4ueIXpov0VqrGfzCWWQllTDcPyKT%2FO%2F5rtRcuBVpz666znhsx2yju5njtme3OdegqkCueYJjfpN3sZsi9dJW6%2BnDoEcny5HJ8oUGnbdFaMW%2BDo6XabuohmpGnACAkomUHk5JSsddhPTDs4ZQCGNF6cjzKRjJ8giTpkbKAH3owrVdbXjIW88GBgwVWiH7R57iGeIJGWzbQkXdKGilbgOv%2FhoqGxB%2FM4YGAPlRIBFGqE%2FBG1lqvG7WDhFW2ZR%2FaunG3guYerjerC9N9TNDPIFgLtOIVxH5j3yAOZngdtRgA0Pl%2BCpaDMKu2A9zuGqEA%2BI2vSKPbDGe6hpYs12gRVHCA7E37nFvcFdwRQrGj88vXcHnRCHl%2Bu5r3Nfjal8vWOgoT0fAyNahycclpgpB%2F8IwqkVmNCCixxSSBTH1NUmXQJzjH%2BqYL4tAPeELDa0UT9RG4PUolbQKSu6O%2Fls5gu8DRVPRixZS1TYQaRhA%2FrZXEH3DvYh1IycvpCsC1dOBs525YIcWnQKzXZPkkX3JDj%2BW0IszXkwvdFUZRla5YeQvTUt1j9Yh3OHkJScY614IyoQ5UGMB%2FVxw4In3Mv%2BrK2gV7LxNXKqCK12Vp6q8qcqoYP3PRX9AbdY2uLKHAherCw9uluKjRSTrxXpmq9q55PDgBYh5N0HPOXhHdoE4muwRlaEiLwMWRkcX9QMJTDOgFyv1obJa4T3iSlkAT7qOUuNWxwSwIXm%2Fo6Bfh7Xa1vPavayJ%2BoJEAj3Ef37sIp2Y9E0RX8FWVihILnEscBsbKXOGMZosX4YxlhPVLX8%2FucKcQTM85e0F%2BLbYSH2oyaS34pDjiF%2FrZfnSn0P0uurH%2FhE7jtdCIaL71Kh1WqqufbxQG%2FiIisaSxYzRyfNzgJED3JZ3DFlLi%2BC0OLe%2B3sFi95vqEmfRTACNf81bR7NoFdqwvKJymR%2BkZZVaEkLesdVqR1xZxqCRL7K2VP0VN7Dh%2BxceJj9uMLkI1Ls31nbUItzed3jhiYGThQ%2BGOCGVPjIWZcs1ZoYN5kHxE6Y0LgpgrVSE5zWhzlkuEeUCX6jdV2nom19Vjnj%2B1Qp%2BMzBDgC8m04drzPX6Tqrw%2BpLez7ReMQKdWqevaYlLZsml16ZR49p3pE5N3qi9QBYjF9fnW1vsPom6FXTw%2BTiMYomvkcadX0aRtNxy9JK4H4PYgxKCVvwiGUB2Be9CTe8%2FB9PLYozsAGAn5hatqbRikOTxVB30QKrZrTXhCvovD%2FtSmOSyhfCjWiT0MKPJlfKIE8Dv5tkpgd4FlrlLXS3qlqQTRU36ybVS1ZEgIUgBfN%2B8OYkZnIAH2QX5bZq%2BkCOCVlI4GYyMSC1OdRG37X%2F5s49LM4fQp7bFdGxPX%2BsxFJ8Y7yai26aZOYlSLByOo20zbhDUomHHgvHp1B6NFFQMLuK2%2FR%2FhsmD1sM0ATKOhQA6iOHVOWOMUcTK9OXY9vWBFpgjEEKLN978bFkVWeyWY94Vt9GmAOQjXArb9W3PcAiAtjI06zoVW%2BCI1p6Xmlpu6SXEfr2QIUXu%2BIrtbkLPdJaBwFaIxMkhJBPOHJF32u5X2%2FKvwEsYyUImgoKUSlGOcXpa1GUux2pMm0dDBT2xNSa4w6thWBByXAfG2fdSbZwUj%2FESbdO3om4WG3kxdPjys%2Btd%2FyF3kqKBXCqf%2B7Ja0BoscvnwG6fgWKDLyfvSHAgpPpmp2s1KaD0F6sB6uidw4I4vCUJ8ojEi82g1UB5OKMBqpwdW%2BkC7agaV%2BohCT%2BZA0TUFw7vCBr0sOrMp0oAHD3ILGwPlL0WAoOpaAIOkt6hVxbMvb4m%2F91q57t20N6asE3BaQh0hPxLn2ERvY%2F8iEoM5HiPcK2Rn8tEF108MaonggnGdPBPJ8xwQURxdR%2BJqM3oXMKrxHwvlmYkEcocula%2Bi1xEq9%2BQ9ZpqIS5uVscMw%2B1Rwac3ZNA1hD9f7pm3WljFx4QO9vjG4lYyXa19zh6CPTYE7hgA3hYoOmMJP%2B7WXkHZSigBa7zdUXwFPy5vnrPgkWBF8B6jo01Sa0rCnmDjHiAHqx7%2By%2Ffy98eRV73wBKSAc52KnY%2FJnSKrZY1HmnvxqxlkDWPhFYkI%2F9IX7zz6MIyHOFPyBJTFmDGMYVwETMrACxE8%2FEi0H7c5hcT%2B%2FC1rPKrES8fzkXOMKCKE%2FFMuiwm5mcVWXV79nTUkJwdUp5Bf44kXBqFSOkbv95djFsoxK6Nnyri5buILVXzZIPXH%2B2XENjZN83b%2B%2B%2BPwW%2F8YdrWQt3wRQinvsQCdczHs9%2FyfhF8MgJwVUqSIBzGfZlp%2B5PMwYqkDRac2aufeFvxGy9T%2FrcVBSa0GxS6DxLCACyeS0jEMhPLtl%2FhVhMgjtTDAE5BaEdXx1dHVQc%2Fp0nqQS7b2G%2FVjJYtG2j0gKFDn%2F9NoDcv3gjNkv9yjo4KtjEF%2BsMdkxxve474euqsOSfiiq%2FjcFTploP10cEf2u1f2NDnR1kfdudBmBagiFqbT1oEqTGTuP2AbfKf1J8bN2O95OH%2FMStEf2ZoDpkC0G3RdpS4aEM6jrGEc12irbNw%2Bnv4y3Q9rt3Nmshz1vaAlye0kSi%2B%2BihU76obNfZFyZ4WRoT%2F9T43deDU9EHK%2FjZ7H0kQmOxA2Onsn2jdHsfziO%2BkAO8fYorFeyY9XVSkTOX2vJAmWHj9jCKEJgfWSPe6%2FdHkqhr8IIlVyqSSmdmcgo6hkufqvOk%2FiwO6xQu3j7EKMBOZZ41vaI9SinT4ySiI1WkHvHNnFUtckLtVuG0%2BW3cXmmNB8PsHPm%2BXYk%2BgHN9DnhOKjOHBUFg%3D%3D"
	context.EventValidation = "g7998XebdfbWJ%2B6GMcMGkEuoIAva2VLR8z%2F91h36vJ8azhZSXafGu99ZyoILjka6CaI9gidi40UR%2B7mVMlrqSgaZ9q5B15OR8wiBSRNWcQFw3iN%2BhR1ihUJnxS3ZFLRaOKhXA6cHBkwvwCXSl0n%2FYQ%3D%3D"
	context.Additional += "&ctl00%24content_placeholder_body%24BusinessSearch1%24RadioButtonList_SearchType=Entity+Number"
	context.Additional += "&ctl00%24content_placeholder_body%24BusinessSearch1%24TextBox_NameSearch="
	context.Additional += Entity
	context.Additional += "&ctl00%24content_placeholder_body%24BusinessSearch1%24Button_Search=Search"

	return context
}

func ProcessEntityNumber(entityNumber string) ([]Listing, error) {
	listing, err := GetListing(entityNumber)
	if nil != err {
		return []Listing{}, err
	}
	return []Listing{listing}, nil
}
